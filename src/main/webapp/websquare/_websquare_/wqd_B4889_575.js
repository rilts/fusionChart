(self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[]).push([[575],{5575:(t,e,i)=>{"use strict";i.r(e),i.d(e,{fliptoggle:()=>r});var s=i(2981),l=i(1656),n=i(2085),o=i(1960),h=i(3082),a=i(6615),r=function(t,e,i){a.s.call(this,t,e,i)};s.x.extend(r.prototype,a.s.prototype),r.prototype.defaultOptions={pluginType:"uiplugin.fliptoggle",pluginName:"fliptoggle",userEvents:["ontogglechange"],useClickToggle:"true",label:"Label",accessibility:void 0,escape:!0},r.prototype.initialize=function(t){try{this.selectedIndex=0,this.onLabel="On",this.onValue="on",this.offLabel="Off",this.offValue="off";var e=WebSquare.Elem.api.getElementsByTagName(t,"on",l.v._XML_NAMESPACE.W2),i=WebSquare.Elem.api.getElementsByTagName(t,"off",l.v._XML_NAMESPACE.W2);if(e[0]&&(this.onLabel=WebSquare.Elem.api.getAttribute(e[0],"label"),this.onValue=WebSquare.Elem.api.getAttribute(e[0],"value"),this.onLocaleRef=WebSquare.Elem.api.getAttribute(e[0],"localeRef")),i[0]&&(this.offLabel=WebSquare.Elem.api.getAttribute(i[0],"label"),this.offValue=WebSquare.Elem.api.getAttribute(i[0],"value"),this.offLocaleRef=WebSquare.Elem.api.getAttribute(i[0],"localeRef")),this.options.useLocale){if(this.onLocaleRef){var s=this.getLocaleValue(this.onLocaleRef);s&&(this.onLabel=s)}if(this.offLocaleRef){var o=this.getLocaleValue(this.offLocaleRef);o&&(this.offLabel=o)}}this.leftPosition,this.startEventLayer={},this.lastEventLayer={}}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.toHTML=function(){var t=[],e=""==this.options.style?"":"style='"+this.options.style+"'",i=""==this.options.tabIndex?"":"tabIndex='"+this.options.tabIndex+"'";return t.push("<div id='"+this.id+"' "+e+" class='w2fliptoggle "+this.options.className+"' "+i+">"),t.push("<label for='"+this.id+"_select' id='"+this.id+"_label' class='w2fliptoggle_select'>"),t.push(this.options.label),t.push("</label>"),t.push("<select id='"+this.id+"_select' class='w2fliptoggle_select' tabindex='0'>"),t.push("<option value='"+this.offValue+"'>"+this.offLabel+"</option>"),t.push("<option value='"+this.onValue+"'>"+this.onLabel+"</option>"),t.push("</select>"),t.push("<div id='"+this.id+"_mask' class='w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_mask'>"),t.push("<span id='"+this.id+"_left' class='w2fliptoggle_left_bg w2fliptoggle_conner_left w2fliptoggle_left'>"),t.push("</span>"),t.push("<span id='"+this.id+"_left_label' class='w2fliptoggle_left_label' style='visibility:hidden;' aria-hidden='true'>"),t.push(this.onLabel),t.push("</span>"),this.options.accessibility&&t.push("<a id='"+this.id+"_a_button' href='#' role='slider' aria-valuenow='"+this.offValue+"' aria-valuetext='"+this.offValue+"' aria-labelledby='"+this.id+"_a_button'>"),t.push("<span id='"+this.id+"_button' class='w2fliptoggle_button_bg w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_button'>"),t.push("</span>"),this.options.accessibility&&t.push("</a>"),t.push("<span id='"+this.id+"_right_label' class='w2fliptoggle_right_label' aria-hidden='true'>"),t.push(this.offLabel),t.push("</span>"),t.push("<span id='"+this.id+"_right' class='w2fliptoggle_conner_right w2fliptoggle_right_bg w2fliptoggle_right'>"),t.push("</span>"),t.push("</div>"),t.push("</div>"),t.join("")},r.prototype.setAction=function(){try{this.isMobile=h.D.isMobile(),this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase()),this.dom.mask=document.getElementById(this.id+"_mask"),this.dom.left=document.getElementById(this.id+"_left"),this.dom.button=document.getElementById(this.id+"_button"),this.dom.right=document.getElementById(this.id+"_right"),this.dom.left_label=document.getElementById(this.id+"_left_label"),this.dom.right_label=document.getElementById(this.id+"_right_label"),this.dom.select=document.getElementById(this.id+"_select"),this.setVerticalAlign(this.dom.left_label),this.setVerticalAlign(this.dom.right_label),this.leftPosition=WebSquare.style.getAbsoluteLeft(this.render),h.D.isIE(6)&&this.__addClass(this.dom.button," "),
this.isMobile?(this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart)),this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove)),this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd))):(this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart)),this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove)),this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd)),this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,(function(t){o.B.preventDefault(t)}))),this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut)))}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.displayLocaleValue=function(){if(this.offLocaleRef&&this.onLocaleRef){var t=this.getLocaleValue(this.offLocaleRef),e=this.getLocaleValue(this.onLocaleRef);this.setLabel(e,t)}},r.prototype.setLabel=function(t,e){try{var i=document.getElementById(this.id+"_left_label"),s=document.getElementById(this.id+"_right_label"),l=document.getElementById(this.id+"_select"),o=this.options.escape?WebSquare.xml._encode(t+""):t,h=this.options.escape?WebSquare.xml._encode(e+""):e;i.innerHTML=o,s.innerHTML=h,l.options[0].innerHTML=h,l.options[1].innerHTML=o}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.refreshItemset=function(){},r.prototype.refresh=function(){},r.prototype.getElementWidth=function(t){var e;t&&(e=(e=t.offsetWidth)-(parseInt(h.D.getStyleProperty(t,"border-left-width"),10)||0)-(parseInt(h.D.getStyleProperty(t,"border-right-width"),10)||0)-(parseInt(h.D.getStyleProperty(t,"padding-left"),10)||0)-(parseInt(h.D.getStyleProperty(t,"padding-right"),10)||0));return e},r.prototype.setElementWidth=function(t,e){if(t){var i=parseInt(h.D.getStyleProperty(t,"border-left-width"),10)||0,s=parseInt(h.D.getStyleProperty(t,"border-right-width"),10)||0;t.style.width=e-i-s+"px"}},r.prototype.setButtonPosition=function(t){try{if("number"!=typeof t)return;var e=this.getElementWidth(this.dom.left),i=this.getElementWidth(this.dom.right),s=this.getElementWidth(this.dom.button),l=this.getElementWidth(this.dom.mask),o=this.dom.mask.offsetLeft;t<0&&(t=0),t>o+l-s&&(t=o+l-s);var h=t-this.dom.button.offsetLeft;if(0==t){if(this.dom.left_label.style.visibility="hidden",this.dom.right_label.style.visibility="visible",this.selectedIndex=0,this.dom.select.selectedIndex=0,this.options.accessibility)(a=document.getElementById(this.id+"_a_button")).setAttribute("aria-valuenow",this.offValue),a.setAttribute("aria-valuetext",this.offValue)}else if(t==o+l-s){var a;if(this.dom.left_label.style.visibility="visible",this.dom.right_label.style.visibility="hidden",this.selectedIndex=1,this.dom.select.selectedIndex=1,this.options.accessibility)(a=document.getElementById(this.id+"_a_button")).setAttribute("aria-valuenow",this.onValue),a.setAttribute("aria-valuetext",this.onValue)}this.dom.right.style.width=parseInt(i-h,10)+"px",this.dom.left.style.width=parseInt(e+h,10)+"px",this.dom.button.style.left=parseInt(t,10)+"px"}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.setVerticalAlign=function(t){try{var e=h.D.getStyleProperty(t,"vertical-align")||"middle";if("top"==e);else{var i=this.render.offsetHeight||parseInt(this.getStyle("height"),10);if(i>0){var s=parseInt(h.D.getStyleProperty(t,"padding-top"),10)||0,l=parseInt(h.D.getStyleProperty(t,"font-size"),10)||0,o=0;"middle"==e?o=Math.floor((i-l)/2):"bottom"==e&&(o=Math.floor(i-l)),o+s>0&&i-o>0&&(t.style.paddingTop=o+s+"px",t.style.height=i-o+"px")}}}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.getValue=function(){try{return this.dom.select[this.selectedIndex]?this.dom.select[this.selectedIndex].value:null}catch(t){n.w.printStackTrace(t,null,this)}},
r.prototype.toggle=function(t){try{var e=this.selectedIndex;return void 0===t&&(t=0==this.selectedIndex?1:0),0==t?this.setButtonPosition(0):this.setButtonPosition(this.getElementWidth(this.dom.mask)),e!=this.selectedIndex&&o.B.fireEvent(this,"ontogglechange"),this.getValue()}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.setValue=function(t){try{if(h.D.isNull(t))return;for(var e=0;e<this.dom.select.length;e++)if(t==this.dom.select[e].value)return this.toggle(e)}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.handleClickEvent=function(t){try{this.isSliding||this.toggle(),o.B.stopPropagation(t)}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.handleChangeEvent=function(t){},r.prototype.handleTouchStart=function(t){o.B.stopPropagation(t);var e=this.event.getTargetIterator(t,this.render);for(this.startEventLayer.x=o.B.getMouseX(t),this.startEventLayer.y=o.B.getMouseY(t),this.lastEventLayer.x=o.B.getMouseX(t),this.lastEventLayer.y=o.B.getMouseY(t);e.next();)e.match("w2fliptoggle_button")&&(this.isSliding=!0)},r.prototype.handleTouchEnd=function(t,e){try{this.isSliding=!1;var i=this.getElementWidth(this.dom.mask),s=this.getElementWidth(this.dom.left);this.startEventLayer.x-this.lastEventLayer.x==0&&this.startEventLayer.y-this.lastEventLayer.y==0?h.D.getBoolean(this.options.useClickToggle)&&this.toggle():s<.7*i?this.toggle(0):this.toggle(1),o.B.stopPropagation(t)}catch(t){n.w.printStackTrace(t,null,this)}},r.prototype.handleTouchMove=function(t){if(this.lastEventLayer.x=o.B.getMouseX(t),this.lastEventLayer.y=o.B.getMouseY(t),this.isSliding){var e=this.lastEventLayer.x-(this.leftPosition||0),i=0,s=this.getElementWidth(this.dom.button),l=this.getElementWidth(this.dom.mask),n=s/2,a=(i=e-n)+n;a>l-n?a=l-n:a<n&&(a=n-1),this.setElementWidth(this.dom.left,a);var r=l-a-1;this.setElementWidth(this.dom.right,r),i<0?i=0:i>l-s&&(i=l-s),this.dom.button.style.left=i+"px",h.D.isIE(6)&&(this.dom.left.style.height=this.render.offsetHeight+"px",this.dom.right.style.height=this.render.offsetHeight+"px",this.dom.button.style.height=this.render.offsetHeight+"px"),this.isMobile&&o.B.preventDefault(t)}},r.prototype.handleMouseOut=function(t){if(this.isSliding){if(!o.B.getRelatedTarget(t))return;o.B.getRelatedTarget(t).getAttribute("id")?o.B.getRelatedTarget(t).getAttribute("id").indexOf(this.id)<0&&this.handleTouchEnd(t):o.B.getRelatedTarget(t).getAttribute("id")||this.handleTouchEnd(t)}}}}]);